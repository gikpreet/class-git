= git add 명령
:sectnums:

git add 명령은 작업 디렉토리(working directory)에 있는 변경 사항을 **스테이징 영역**으로 올기는 명령입니다.

쉽게 말해, **이 파일들을 다음 커밋(저장)에 포함 시키겠다**라고 Git에게 예약 명단을 제출하는 과정입니다.

== `git add` 의 핵심 역할

Git은 파일을 수정했다고 해서 자동으로 저장할 대상으로 잡지 않습니다. 사용자가 명시적으로 `add` 를 해줘야만 Git은 저장 대상 파일로 인지합니다. 

쇼핑에 비유하면 다음과 같습니다:

* 슈퍼마켓 진열대(작업 디렉토리)에서 물건을 집어 **장바구니(스테이징 영역)**에 담는 행위가 바로 `git add` 입니다.
* 장바구니에 담지 않은 물건은 계산(커밋)되지 않습니다.

== 다양한 사용 방법

상황에 따라 파일 전체를 담을 수도 있고, 하나씩 골라 담을 수도 있습니다.

=== 변경된 모든 파일 담기(가장 많이 사용)

현재 폴더의 모든 변경 사항(수정, 생성, 삭제)를 한 번에 스테이징 영역으로 올립니다.

----
git add .
----

* **주의**: 점(`.`)은 '현재 디렉토리'를 의미합니다.

=== 특정 확장자만 골라 담기

여러 파일을 수정했지만, 이번에는 `index.html` 파일만 커밋하고 싶을 때 사용합니다.

----
git add index.html
----

=== 특정 확장자만 담기(wildcard)

와일드카드를 사용할 수 있습니다. 아래 명령은 확장자가 `.css` 인 파일만 스테이징 영역으로 올립니다.

----
git add *.css
----

=== 폴더 단위로 담기

폴더를 지정하여 해당 폴더의 모든 파일에 대한 변경 사항만을 스테이징 영역으로 올릴 수 있습니다. 아래 명령은 현재 디렉토리 아래에 있는 src 폴더 안에 있는 변경 사항만을 스테이징 영역으로 올립니다.

----
git add src/
----

== 옵션

[cols="1,1,3", options="header"]
|===
|옵션|명령어 예시|설명
|전체 추가|`git add .`|현재 디렉토리의 모든 변경 사항(수정, 생성, 삭제)을 추가합니다. (가장 기본)
|부분 추가|`git add -p`|변경된 내용을 코드 덩어리(Hunk) 단위로 하나씩 확인하며 추가합니다. (전문가용)
|업데이트만|`git add -u`|수정되거나 삭제된 파일만 추가하고, 새로 생성된(Untracked) 파일은 무시합니다.
|강제 추가|`git add -f`|.gitignore에 등록되어 무시된 파일을 강제로 추가합니다.
|가상 실행|`git add -n`|실제로 추가하지 않고, 명령 실행 시 어떤 파일이 추가될지만 미리 보여줍니다.
|===

=== `git add -p` : 대화형 모드(Patch)

이 옵션은 파일 하나를 통째로 올리는 것이 아니라, 파일 내부의 변경 내용을 조각(Hunk)내어 보여주며 "이 조각을 스테이징하시겠습니까?"라고 사용자에게 물어봅니다.

* 사용 상황: 하나의 파일에서 '버그 수정'과 '새 기능 추가'를 동시에 했는데, 이를 따로따로 커밋하고 싶을 때 사용합니다.
* 주요 단축키:
** y: 이 조각을 스테이징함
** n: 이 조각을 스테이징하지 않음
** s: 조각이 너무 크면 더 작게 쪼갬
** q: 종료

=== `git add -u` : 업데이트 모드(Update)

이미 Git이 추적하고 있는 파일(Tracked File)만 관리합니다. 즉, 파일을 수정하거나 삭제한 내역은 반영하지만, 새로 만든 파일(Untracked)은 스테이징하지 않습니다.

* 사용 상황: 프로젝트의 기존 코드만 정리해서 커밋하고 싶고, 테스트용으로 임시로 만든 파일들은 실수로라도 올리고 싶지 않을 때 유용합니다.

=== `git add -f` : 강제 추가(Force)

 .gitignore 파일에 등록된 파일(예: 로그 파일, 설정 파일 등)은 일반적인 git add 명령으로는 추가되지 않습니다. 이를 무시하고 강제로 스테이징 영역에 넣을 때 사용합니다.

* 사용 상황: 설정 파일은 보통 무시하지만, 기본 예제 설정 파일(config.example) 하나만큼은 꼭 저장소에 올려야 할 때 사용합니다.

=== 'git add -n .' : 가상 실행(Dry run)

실제로 명령을 수행하지(Dry) 않고 실행(Run)해 봅니다. git add .을 했을 때 어떤 파일들이 딸려 들어갈지 미리 확인하는 용도입니다.

* 사용 상황: git add .을 치기 전에 혹시 불필요한 파일이나 대용량 파일이 포함되어 있는지 검사하고 싶을 때 안전장치로 사용합니다.