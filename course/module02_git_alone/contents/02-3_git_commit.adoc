= git commit 명령

git commit은 버전 관리의 핵심으로, **스테이징 영역에 올라온 파일들을 하나의 버전으로 묶어 저장소(Reopsitory)에 영구적으로 기록하는 명령**입니다.

이는 게임에서 세이브 포인트를 만드는 것과 같이 동작한다고 볼 수도 있습니다. 커밋을 하면 언제든지 커밋한 시점으로 코드를 되돌릴 수 있습니다.

== 기본 사용법

가장 일반적으로 사용하는 방식입니다. -m 옵션을 사용하여 터미널에서 바로 메시지를 보냅니다.

----
git commit -m "변경 내용에 대한 짧은 요약"
----

`git add` 명령으로 스테이징 영역에 추가된 파일이 없으면 명령은 실패합니다. 

== 커밋 메시지 작성

`-m` 옵션 없이 git commit 명령만 입력하면, 긴 메시지를 작성할 수 있도록 텍스트 에디터가 열립니다. 

----
git commit
----

1. 명령어를 치면 에디터가 열립니다.
2. 첫 줄에는 제목을, 한 줄 띄우고 그 아래에는 상세 설명을 기록할 수 있습니다.
3. 저장하고 에디터를 닫으면 커밋이 완료됩니다.
* 복잡한 기능을 구현했을 때는 이 방식으로 상세하게 기록하는 것이 좋습니다.

== 옵션

=== 가장 많이 사용하는 필수 옵션

일상적인 작업 흐름에서 매일 사용하는 옵션들입니다.

[cols="1,1,3a", options="header"]
|===
|옵션|단축형|설명 및 사용법
|--message|-m|에디터를 열지 않고 터미널에서 바로 커밋 메시지를 작성합니다.
|--all|-a|매우 유용하며, 변경된 파일과 삭제된 파일을 자동으로 스테이징하고 커밋 합니다.
----
`git commit -am "수정 사항 반영"`
----
|--ammend|-a|방금 전의 커밋을 취소하고, 현재 스테이징된 내용과 합쳐서 새로운 커밋으로 덮어씁니다. 
----
git commit --ammend -m "메시지 수정"
----
|===

=== 커밋 메시지 및 작성 관련 옵션

메시지를 더 체계적으로 작성하거나, 재사용할 때 사용합니다.

[cols="1,1,3a", options="header"]
|===
|옵션|단축형|설명 및 사용법
|--file|-F|파일에 저장된 텍스트를 커밋 메시지로 사용합니다.
----
git commit -F message.txt
----
|--template|-t|미리 만들어둔 템플릿 파일을 에디터에 불러옵니다.
----
git commit -t .gitmessage
----
|--no-edit||`--ammend` 와 함께 자주 쓰입니다. 커밋 내용은 수정하되, 메시지는 바꾸지 않고 그대로 유지합니다.
----
git commit --amend --no-edit
----
|===

=== 메타데이터(작성자, 날짜) 조작 옵션

다른 사람의 작업을 대신 올리거나, 이력을 수정해야 할 때 사용합니다.

[cols="1,3a", options="header"]
|===
|옵션|설명
|--author|커밋의 작성자를 내가 아닌 다른 사람으로 지정합니다.
----
git commit --author="Gil Dong <hong@example.com>"
----
|--date|커밋 날짜를 임의로 지정합니다. (과거 시점으로 커밋 가능)
----
git commit --date="2023-01-01 10:00:00"
----
|===

=== 고급 및 특수 상황용 옵션

특수한 워크플로우나 자동화를 위해 사용되는 옵션입니다.

[cols="1,1,3a", options="header"]
|===
|옵션|단축형|설명 및 사용법
|--allow-empty||변경 사항이 하나도 없어도 빈 커밋을 강제로 생성합니다. (CI/CD 트리거용, 마일스톤 표시용)
----
git commit --allow-empty -m "v1.0 배포 시작"
----
|--signoff|-s|커밋 메시지 끝에 Signed-off-by: 내이름 <이메일> 서명을 추가합니다. (오픈소스 기여 시 필수인 경우가 많음)
|--no-verify|-n|pre-commit 같은 Git Hook(커밋 전 자동 검사 스크립트) 실행을 무시하고 강제로 커밋합니다.
|--dry-run||실제로 커밋하지 않고, 커밋하면 어떤 상태가 될지 보여주기만 합니다. (git status와 유사)
|--fixup||나중에 rebase --autosquash를 하기 위해, 특정 커밋을 수정한다는 표시를 남기는 커밋을 생성합니다.
|===